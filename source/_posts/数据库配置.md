---
title: Mysql8数据库配置
date: 2023-12-15 10:27:28
description: Linux Mysql8数据库配置
type: "tags"
comments: true
categories:
- Linux
- Mysql
tags:
- Linux
- Mysql
---
# mysql8.0

## mysql8.0 设置表名不区分大小写

* 安装数据库之后不启动的情况下，修改/etc/my.cnf,在末行添加如下内容：
  
```plain
[mysqld]
lower_case_table_names=1
```

## mysql8.0 设置密码

* 设置密码

```shell
$ mysqladmin -uroot -p'' password 'new-password'
```

## mysql8.0 开启远程连接

* 选择mysql数据库

```plain
> use mysql
```

* 更新域属性，'%'表示允许外部访问

```plain
> update user set host='%' where user ='root';
```

* 刷新:

```plain
> FLUSH PRIVILEGES;
```

将当前user和privilige表中的用户信息/权限设置从mysql库(MySQL数据库的内置库)中提取到内存里。
MySQL用户数据和权限有修改后，希望在"不重启MySQL服务"的情况下直接生效，那么就需要执行这个命令。

* 执行授权语句

```plain
> GRANT ALL PRIVILEGES ON *.* TO 'root'@'%'WITH GRANT OPTION;
```

* 关闭防火墙

```shell
$ systemctl disable firewalld
$ systemctl stop firewalld
```

* 或者开放3306端口

```shell
#开放端口
$ firewall-cmd --zone=public --add-port=3306/tcp --permanent
#查看端口
$ firewall-cmd --list-ports
```

# 保存现有数据更新数据库

* 保存指定数据库数据到sql文件

```plain
mysqldump -uroot -pUnion@1234 --databases ustack_test > ustack_test.sql
```

* 查看表结构

```plain
desc tablename;
```

* 查询数据库创建时间

```plain
SELECT create_time  FROM information_schema.tables  WHERE table_schema = '数据库名'
```

* 导出数据到sql

```bash
mysqldump -uroot -pPASSWORD  database_name > name.sql
```

* 导入现有sql

```bash
> source name.sql
```